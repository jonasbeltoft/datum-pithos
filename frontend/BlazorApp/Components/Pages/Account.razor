@page "/account"
@layout MainLayout
@using System.Security.Claims
@using Microsoft.AspNetCore.Authorization

<h1>User Claims</h1>

@if (claims.Any())
{
	<ul>
		@foreach (var claim in claims)
		{
			<li><b>@claim.Type:</b> @claim.Value</li>
		}
	</ul>
}

@code {
	private IEnumerable<Claim> claims = [];

	[CascadingParameter]
	private Task<AuthenticationState>? AuthState { get; set; }

	protected override async Task OnInitializedAsync()
	{
		if (AuthState == null)
		{
			return;
		}

		var authState = await AuthState;
		claims = authState.User.Claims;
	}
}